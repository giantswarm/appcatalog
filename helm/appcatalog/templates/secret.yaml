{{ if and .Values.appCatalog.config .Values.appCatalog.config.secret ( .Values.appCatalog.config.secret.external eq false ) }}
apiVersion: v1
kind: Secret
metadata:
  name: "{{ .Values.appCatalog.config.secret.name }}"
  namespace: "{{ .Values.appCatalog.config.secret.namespace }}"
data:
{{ if .Values.appCatalog.config.secret.values }}
  values: |
{{- toYaml .Values.appCatalog.config.secret.values | b64enc | nindent 4 }}
type: Opaque
{{ end -}}
{{ end -}}
